import{c as n,F as p}from"./hoisted.BrrlsYzu.js";function x(l,o=3e3){let t;return function(...s){t&&clearTimeout(t),t=setTimeout(()=>l(...s),o)}}function y(l,o){let t=0;return function(...s){const a=Date.now();a-t>=o&&(t=a,l(...s))}}async function v(l){return await new Promise(o=>{setTimeout(()=>{o()},l)})}const w=l=>{const o=document.querySelector(l);if(!o)return;let t=[];const s=y(()=>{let e=t.length-1;for(e;e>=0&&!(t[e].getBoundingClientRect().top<=80);e-=1);const d=t[e];Array.from(o.querySelector(".outlines")?.children??[]).forEach(i=>{i.getAttribute("data-anchor-id")===d?.id?i.classList.add("!opacity-100"):i.classList.remove("!opacity-100")})},200);document.addEventListener("scroll",s,{passive:!0});const h=(()=>{const e=document.querySelector(".ud-root");if(!e)return;const i=["h1","h2","h3","h4","h5","h6"].map(r=>`${r}`).join(", ");t=Array.from(e?.querySelectorAll(i)??[]);const u=()=>{const r=f.querySelector(".outlines");r&&(r?.style.display==="none"?r.style.removeProperty("display"):r.style.display="none")},m=n("div",{class:"outlines flex flex-col text-sm gap-1 py-2 max-h-[60vh] overflow-y-auto <md:hidden break-words"}),f=n("div",{class:"fixed top-[84px] right-[4px] bg-modal p-2 rounded shadow-lg md:shadow-none md:sticky md:top-[88px] <md:[&:focus-within_.outlines]:flex flex flex-col w-[240px]"},n("div",{class:"w-full flex <md:justify-end"},n("button",{onClick:u,title:"toggle outline",class:"<md:hidden"},n("div",{class:"i-ri:menu-fold-4-fill"})),n("button",{title:"toggle outline",class:"md:hidden"},n("div",{class:"i-ri:menu-fold-4-fill"}))),m);return o.replaceChildren(f),m})(),c=()=>{h?.replaceChildren(n(p,null,t.map(e=>n("a",{href:`#${e.id}`,"data-anchor-id":e.id,"data-anchor-tag":e.tagName,class:"opacity-50 hover:opacity-80"},e.textContent))))};return c(),s(),c};export{x as d,w as m,v as s,y as t};
